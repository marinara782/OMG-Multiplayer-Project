<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.game.ticTacToe.TicTacToeRules"
            prefHeight="500.0" prefWidth="700.0"
            stylesheets="@../../styles/game.css">

    <VBox alignment="CENTER" spacing="10" AnchorPane.topAnchor="0.0"
          AnchorPane.rightAnchor="0.0" AnchorPane.bottomAnchor="0.0"
          AnchorPane.leftAnchor="0.0">

        <Label text="Tic-Tac-Toe Rules" styleClass="title-label">
            <font>
                <Font name="System Bold" size="24.0"/>
            </font>
            <VBox.margin>
                <Insets top="20.0" bottom="10.0"/>
            </VBox.margin>
        </Label>

        <TabPane tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
            <Tab text="Basic Rules">
                <ScrollPane fitToWidth="true" fitToHeight="true">
                    <VBox spacing="15" styleClass="rules-section">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <Label text="Game Objective" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="The objective of Tic-Tac-Toe is to be the first player to form a line of three of your symbols (X or O) horizontally, vertically, or diagonally on a 3×3 grid."
                               wrapText="true"/>

                        <Label text="Game Setup" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="• The game is played on a 3×3 grid.&#10;• Two players take turns: one plays as X, the other as O.&#10;• X traditionally goes first."
                               wrapText="true"/>

                        <Label text="How to Play" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="1. Players take turns placing their symbol (X or O) in an empty cell.&#10;2. The first player to get three of their symbols in a row wins.&#10;3. If all cells are filled and no player has three in a row, the game is a draw."
                               wrapText="true"/>
                    </VBox>
                </ScrollPane>
            </Tab>

            <Tab text="Strategy">
                <ScrollPane fitToWidth="true" fitToHeight="true">
                    <VBox spacing="15" styleClass="rules-section">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <Label text="Basic Strategy" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="• Center Control: The center position offers the most win opportunities (4 possible lines).&#10;• Corner Strategy: Corners are the second-best positions (3 possible lines each).&#10;• Block Opponent: Always block your opponent when they have two in a row.&#10;• Fork Creation: Create situations where you have two potential winning lines."
                               wrapText="true"/>

                        <Label text="Advanced Tips" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="• First Move: If playing first, the center or a corner are optimal opening moves.&#10;• Second Move: If your opponent takes the center, take a corner. If they take a corner, take the center.&#10;• Opposite Corners: If your opponent has taken a corner, taking the opposite corner can force a draw."
                               wrapText="true"/>

                        <Label text="Perfect Play" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="With perfect play from both players, Tic-Tac-Toe always ends in a draw. This makes it a 'solved game'."
                               wrapText="true"/>
                    </VBox>
                </ScrollPane>
            </Tab>

            <Tab text="Variants">
                <ScrollPane fitToWidth="true" fitToHeight="true">
                    <VBox spacing="15" styleClass="rules-section">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <Label text="Game Variations" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="3D Tic-Tac-Toe" styleClass="subsection-header">
                            <font>
                                <Font name="System Bold" size="16.0"/>
                            </font>
                        </Label>

                        <Label text="Played on a 3×3×3 cube with winning lines of three in any direction, including diagonals through the cube."
                               wrapText="true"/>

                        <Label text="Ultimate Tic-Tac-Toe" styleClass="subsection-header">
                            <font>
                                <Font name="System Bold" size="16.0"/>
                            </font>
                        </Label>

                        <Label text="Played on nine 3×3 boards arranged in a 3×3 grid. Your move determines which board your opponent must play in next."
                               wrapText="true"/>

                        <Label text="Misère Tic-Tac-Toe" styleClass="subsection-header">
                            <font>
                                <Font name="System Bold" size="16.0"/>
                            </font>
                        </Label>

                        <Label text="The player who gets three in a row loses instead of wins." wrapText="true"/>

                        <Label text="Numerical Tic-Tac-Toe" styleClass="subsection-header">
                            <font>
                                <Font name="System Bold" size="16.0"/>
                            </font>
                        </Label>

                        <Label text="Players use numbers instead of X and O. One player uses odd numbers, the other uses even numbers. The sum of three numbers in a row must equal 15 to win."
                               wrapText="true"/>
                    </VBox>
                </ScrollPane>
            </Tab>

            <Tab text="History">
                <ScrollPane fitToWidth="true" fitToHeight="true">
                    <VBox spacing="15" styleClass="rules-section">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <Label text="Game History" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="18.0"/>
                            </font>
                        </Label>

                        <Label text="Tic-Tac-Toe, also known as Noughts and Crosses or Xs and Os, has ancient origins dating back to ancient Egypt around 1300 BCE. Various versions of the game have been played throughout history across different cultures."
                               wrapText="true"/>

                        <Label text="The modern grid version became popular in the 19th century. In the digital age, Tic-Tac-Toe became one of the earliest computer games, with a version created by A.S. Douglas in 1952 at the University of Cambridge."
                               wrapText="true"/>

                        <Label text="Despite its simple rules, Tic-Tac-Toe has been studied extensively in game theory and artificial intelligence, making it an important game in computing history."
                               wrapText="true"/>
                    </VBox>
                </ScrollPane>
            </Tab>
        </TabPane>

        <HBox alignment="CENTER" spacing="15">
            <Button text="Back to Main Menu" onAction="#goBackToMainMenu" styleClass="menu-button"/>
            <Button text="Start Game" onAction="#startGame" styleClass="start-button"/>

            <padding>
                <Insets top="10.0" right="10.0" bottom="20.0" left="10.0"/>
            </padding>
        </HBox>
    </VBox>
</AnchorPane>